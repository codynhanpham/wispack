# wispack

Rcpp implementation of warped-sigmoid Poisson-process mixed-effect models
 
Copyright (C) 2025, Michael Barkasi
barkasi@wustl.edu

## Installation 

1. Clone and `cd` into this git repo
2. Make `build_install.sh` executable by running `chmod +x build_install.sh` in bash terminal  
3. In terminal, run `./build_install.sh` to build and install the package  
4. To ensure a clean start, run:  

```bash
rm -f src/*.o src/*.so  
rm -rf wispack.Rcheck  
rm -f wispack_*.tar.gz  
./build_install.sh
```

## Build documentation

In R, run: 
pkgdown::build_site_github_pages()

### Linux
On Linux (Ubuntu/Debian), additional system dependencies are required *before* the building process: 
- `libxml2` for roxygen2
- `r-base-dev`, `libnlopt-dev` (or `libnlopt-cxx-dev`) for Rcpp, RcppEigen, and StanHeaders

For PDF documentation generation, `pdflatex` should also be installed

```bash
sudo apt install \
    libxml2 \
    r-base-dev \
    libnlopt-dev \
    libnlopt-cxx-dev \
    texlive-latex-base \
    texlive-fonts-recommended \
    texlive-fonts-extra \
    texlive-latex-extra
```

## Demos

```R
demo("quick_start", package = "wispack")  
demo("full_options", package = "wispack")
```

## Dependency licenses

NOTE: The GPLv2 of Rcpp and the Apache 2.0 of the oneTBB compiled with Stan are incompatible when bundled together as a single binary, which is why these scripts are being provided as a buildable R package on GitHub but not as a precompiled binary ready for installation. 

See: https://github.com/stan-dev/stan/wiki/Stan-Licensing

--------------------------------------------
### Rcpp

by: Dirk Eddelbuettel, Romain Francois, JJ Allaire, Kevin Ushey, Qiang Kou, Nathan Russell, Iñaki Ucar, Doug Bates, and John Chambers

https://cran.r-project.org/web/packages/Rcpp/index.html  
https://github.com/RcppCore/Rcpp/tree/master

GNU General Public License v2.0  
https://github.com/RcppCore/Rcpp/blob/master/LICENSE  
https://github.com/RcppCore/Rcpp/blob/0905d92e0046de5f171d4fde752d97e8733738be/LICENSE

--------------------------------------------
### Stan Math

Bob Carpenter  
https://bob-carpenter.github.io/

https://mc-stan.org/math/  
https://github.com/stan-dev/math

BSD 3-Clause License  

The Stan Math Library depends on the Intel TBB library which is licensed under the Apache 2.0 license. This dependency implies an additional restriction as compared to the new BSD license alone. The Apache 2.0 license is incompatible with GPL-2 licensed code if distributed as a unitary binary. You may refer to the Licensing page on the Stan wiki. 

--------------------------------------------
### Boost / BH

Copyright Beman Dawes, David Abrahams, 1998-2005.  
Copyright Rene Rivera 2004-2007.

https://www.boost.org/  
https://github.com/boostorg

Boost license 1.0  
https://www.boost.org/LICENSE_1_0.txt  
https://github.com/boostorg/boost/blob/master/LICENSE_1_0.txt

"Boost Software License - Version 1.0 - August 17th, 2003

Permission is hereby granted, free of charge, to any person or organization
obtaining a copy of the software and accompanying documentation covered by
this license (the "Software") to use, reproduce, display, distribute,
execute, and transmit the Software, and to prepare derivative works of the
Software, and to permit third-parties to whom the Software is furnished to
do so, all subject to the following:

The copyright notices in the Software and this entire statement, including
the above license grant, this restriction and the following disclaimer,
must be included in all copies of the Software, in whole or in part, and
all derivative works of the Software, unless such copies or derivative
works are solely in the form of machine-executable object code generated by
a source language processor.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE."

--------------------------------------------
### Eigen

The Eigen project was started by Benoît Jacob (founder) and Gaël Guennebaud (guru). Many other people have since contributed their talents to help make Eigen successful.

https://eigen.tuxfamily.org/  
https://gitlab.com/libeigen/eigen

MPL2 (Mozilla Public License)  
https://www.mozilla.org/en-US/MPL/2.0/FAQ/

--------------------------------------------
### SUNDIALS 

Lawrence Livermore National Security and Southern Methodist University.

https://computing.llnl.gov/projects/sundials

BSD 3-Clause License Copyright (c) 2002-2019

--------------------------------------------
### oneTBB

Unified Acceleration (UXL) Foundation

https://github.com/uxlfoundation/oneTBB

Apache 2.0  
https://github.com/uxlfoundation/oneTBB/blob/master/LICENSE.txt

--------------------------------------------
### nlopt

Steven G. Johnson  
The NLopt nonlinear-optimization package 

http://github.com/stevengj/nlopt  
https://nlopt.readthedocs.io/en/latest/

GNU Lesser General Public License (LGPL)  
https://nlopt.readthedocs.io/en/latest/NLopt_License_and_Copyright/

--------------------------------------------
### pcg

Melissa E. O'Neill  
https://www.cs.hmc.edu/~oneill/index.html

https://www.pcg-random.org/  
https://github.com/imneme/pcg-cpp

Apache 2.0 and The MIT License

--------------------------------------------
### unistd.h, part of the C POSIX library

The IEEE and The Open Group  
https://pubs.opengroup.org/onlinepubs/9799919799/  
https://www.opengroup.org/membership/forums/platform/unix

https://pubs.opengroup.org/onlinepubs/7908799/xsh/unistd.h.html

Available and licensed on your local system

--------------------------------------------
### dtwclust

Alexis Sarda-Espinosa  
Sarda-Espinosa A (2024). dtwclust: Time Series Clustering Along with Optimizations for the Dynamic Time Warping Distance. R package version 6.0.0

Specifically using DTW Barycenter Averaging, from:  
Petitjean F, Ketterlin A and Gancarski P (2011). “A global averaging method for dynamic time warping, with applications to clustering.” Pattern Recognition, 44(3), pp. 678 - 693. ISSN 0031-3203, doi:10.1016/j.patcog.2010.09.013, https://www.sciencedirect.com/science/article/pii/S003132031000453X

https://cran.r-project.org/package=dtwclust  
https://github.com/asardaes/dtwclust

GPLv3

--------------------------------------------
### ggplot2 
by: ggplot2 core developer team

https://ggplot2.tidyverse.org/

The MIT license  
https://github.com/tidyverse/ggplot2
